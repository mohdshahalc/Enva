<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="../Images/favicon.png">
  <title>Enva cloth & co - Register</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="navBar.css">
  <style>
    /* ==========================================
   SHARED UTILITIES
========================================== */
    .custom-container-lg {
      max-width: 1400px;
    }

    .card {
      border-radius: 12px;
    }

    /* .container-fluid {
  min-height: 75vh;
} */

    /* ==========================================
   INPUTS
========================================== */
    .input-group-text {
      background: #f8f9fa;
      border-right: 0;
    }

    .form-control {
      border-left: 0;
      height: 48px;
    }

    .form-control:focus {
      box-shadow: none;
      border-color: #ced4da;
    }

    /* ==========================================
   BUTTONS
========================================== */
    .btn-lg {
      height: 52px;
      border-radius: 8px;
      letter-spacing: 0.5px;
    }

    /* ==========================================
   STATUS MESSAGES
========================================== */
    .signup-message {
      display: none;
      padding: 10px 14px;
      border-radius: 6px;
      font-weight: 600;
    }

    .signup-message.success {
      display: block;
      background: #e8f7ef;
      color: #0f5132;
    }

    .signup-message.error {
      display: block;
      background: #fdeaea;
      color: #842029;
    }

    /* ==========================================
   OR DIVIDER
========================================== */
    .auth-divider {
      display: flex;
      align-items: center;
      text-align: center;
      font-size: 0.75rem;
      font-weight: 600;
      color: #6c757d;
      margin: 14px 0;
    }

    .auth-divider::before,
    .auth-divider::after {
      content: "";
      flex: 1;
      height: 1px;
      background: #dee2e6;
    }

    .auth-divider::before {
      margin-right: 12px;
    }

    .auth-divider::after {
      margin-left: 12px;
    }

    /* ==========================================
   GOOGLE AUTH ‚Äî FINAL HARD FIX (NO GAP)
========================================== */

    /* Auth container */
    .auth-secondary {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin: 0 !important;
      padding: 0 !important;
    }

    /* Google wrapper (LOCK HEIGHT) */
    .google-auth-wrapper {
      width: 100%;
      height: 44px;
      margin: 0 !important;
      padding: 0 !important;
      overflow: hidden;
    }

    /* Google button container */
    #googleLoginBtn,
    #googleSignupBtn {
      width: 100%;
      height: 44px;
      margin: 0 !important;
      padding: 0 !important;
    }

    /* Google injected wrapper */
    #googleLoginBtn>div,
    #googleSignupBtn>div,
    #googleLoginBtn .S9gUrf-YoZ4jf,
    #googleSignupBtn .S9gUrf-YoZ4jf {
      height: 44px !important;
      margin: 0 !important;
      padding: 0 !important;
      display: flex !important;
      align-items: center !important;
    }

    /* Google iframe */
    #googleLoginBtn iframe,
    #googleSignupBtn iframe {
      display: block !important;
      width: 100% !important;
      height: 44px !important;
      min-height: 44px !important;
      max-height: 44px !important;
      margin: 0 !important;
      padding: 0 !important;
      border-radius: 6px !important;
    }

    /* ==========================================
   SIGNUP / LOGIN TEXT
========================================== */
    .signup-text-left,
    .login-link-wrap {
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .signup-text-left p {
      margin: 0;
      padding: 0;
      font-size: 0.85rem;
      color: #6c757d;
    }

    .signup-text-left a,
    .login-link {
      color: #0d6efd;
      font-weight: 500;
      text-decoration: none;
    }

    .signup-text-left a:hover,
    .login-link:hover {
      text-decoration: underline;
    }

    /* Desktop login link alignment */
    .login-link-wrap {
      justify-content: flex-end;
    }

    /* Mobile fix */
    @media (max-width: 575px) {
      .login-link-wrap {
        justify-content: center;
      }
    }

    /* ===== GOOGLE BUTTON FULL WIDTH (MATCH LOGIN) ===== */

    .google-auth-wrapper {
      width: 100%;
    }

    #googleLoginBtn,
    #googleSignupBtn {
      width: 100% !important;
    }

    #googleLoginBtn>div,
    #googleSignupBtn>div {
      width: 100% !important;
    }

    #googleLoginBtn iframe,
    #googleSignupBtn iframe {
      width: 100% !important;
      height: 52px !important;
      /* same as LOGIN */
      min-height: 52px !important;
      border-radius: 8px !important;
      display: block !important;
    }

    /* ===== SIGN UP TEXT STYLE ===== */

    .signup-text-left {
      margin-top: 4px;
      text-align: center;
    }

    .signup-text-left p {
      margin: 0;
      font-size: 0.85rem;
      color: #6c757d;
    }

    .signup-text-left a {
      color: #000;
      /* BLACK */
      font-weight: 600;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    /* ===== GOOGLE BUTTON ‚Äî EXACT LOGIN SIZE ===== */

    .google-auth-wrapper {
      width: 100%;
      margin: 0;
    }

    #googleLoginBtn iframe {
      height: 52px !important;
      /* same as LOGIN */
      border-radius: 8px !important;
      display: block !important;
    }

    /* Center text under Google */
    .signup-text-left {
      margin-top: 6px;
      text-align: center;
    }

    /* ===== SIGNUP TEXT ‚Üí LEFT SIDE ===== */
    .signup-text-left {
      width: 100%;
      text-align: left;
      margin-top: 6px;
      padding: 0;
    }

    .signup-text-left p {
      margin: 0;
    }

    .signup-text-left a {
      color: #000;
      /* black like LOGIN */
      font-weight: 600;
      text-decoration: none;
    }

    .signup-text-left a:hover {
      text-decoration: underline;
    }

    /* ===============================
   INPUT CLICK FIX (FINAL)
=============================== */

    /* Make sure form is on top */


    /* Re-enable navbar links only */
    /* .navbar-main a,
.navbar-sub a,
.navbar-main button {
  pointer-events: auto !important;
} */

    /* ===============================
   GOOGLE BUTTON ALIGN = LOGIN
=============================== */

    /* Same wrapper as LOGIN */
    .auth-btn-wrap {
      width: 100%;
    }

    /* Remove centering */
    .google-auth-wrapper {
      display: block !important;
    }

    /* Google container */
    #googleLoginBtn {
      width: 100% !important;
    }

    /* Google injected wrapper */
    #googleLoginBtn>div,
    #googleLoginBtn .S9gUrf-YoZ4jf {
      width: 100% !important;
      display: block !important;
    }

    /* Google iframe = LOGIN button size */
    #googleLoginBtn iframe {
      width: 100% !important;
      height: 52px !important;
      border-radius: 8px !important;
      display: block !important;
    }



    /* Google injected div */
    #googleLoginBtn>div,
    #googleLoginBtn .S9gUrf-YoZ4jf {
      margin-left: 0 !important;
      padding-left: 0 !important;
      justify-content: flex-start !important;
    }

    /* Google iframe */
    #googleLoginBtn iframe {
      margin-left: 0 !important;
      display: block !important;
    }

    /* === GOOGLE BUTTON CONTENT ALIGN FIX === */

    /* Move iframe slightly left to match LOGIN text start */
    #googleLoginBtn iframe {
      transform: translateX(-10px);
      /* üëà exact visual match */
    }

    /* Prevent overflow issues */
    .google-auth-wrapper {
      overflow: hidden;
    }

    .card {
      position: relative;
      z-index: 1;
    }

    #drawerBackdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .4);
      opacity: 0;
      pointer-events: none;
      z-index: 1040;
    }

    #drawerBackdrop.show {
      opacity: 1;
      pointer-events: auto;
    }



    .body-spacer {
      height: 68px;
      /* main + sub navbar height */
    }

    /* MAIN NAVBAR */
    .navbar-main {
      position: sticky;
      /* or fixed if you want */
      top: 0;
      z-index: 10000;
      /* Ensure on top */
    }

    /* SUB NAVBAR */
    .navbar-sub {
      position: sticky;
      top: 64px;
      /* height of main navbar */
      z-index: 9999;
    }

    .login-page {
      min-height: calc(100vh - 112px);
      /* navbar + sub-navbar */
    }

    .card,
    .form-control,
    .input-group,
    .input-group-text {
      position: relative;
      z-index: 1;
      /* Lower than navbar */
    }

    .navbar-main {
      position: sticky;
      top: 0;
      z-index: 10000;
    }

    .navbar-sub {
      position: sticky;
      top: 64px;
      z-index: 9999;
    }

    /* === BLACK SUB NAV HEIGHT (PREVIOUS SIZE) === */

    .navbar-sub {
      height: 64px;
      /* üëà same visual weight as before */
      display: flex;
      align-items: center;
    }

    .login-sub-inner {
      height: 64px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
    }
  </style>

</head>

<body class="bg-white text-dark">

  <!-- ========================= MAIN NAVBAR ========================= -->
  <nav class="navbar-main w-100 top-0 start-0 z-5 shadow-sm">
    <div
      class="container-fluid custom-container-lg mx-auto px-4 py-2 d-flex align-items-center justify-content-between">
      <a href="./home.html" class="d-flex align-items-center gap-2 text-dark text-decoration-none">
        <img src="/Images/Envalogo.jpeg" class="rounded-circle" style="width:48px; height:48px;">
        <div class="brand-text">
          <div class="brand-name fw-bold">Enva cloth & co</div>
          <div class="brand-tagline">Wear Your Confidence</div>
        </div>
      </a>
      <ul class="nav gap-4 d-none d-lg-flex small fw-bold ms-5">
        <li><a href="./home.html" class="nav-link text-dark p-0">Home</a></li>
        <li><a href="./products.html" class="nav-link text-dark p-0">Products</a></li>
        <li><a href="./blog.html" class="nav-link text-dark p-0">Blog</a></li>
      </ul>
      <div class="d-none d-lg-flex align-items-center flex-grow-1 justify-content-center px-4">
        <div class="input-group srch-btn shadow-none" style="max-width:350px;">
          <input type="text" class="form-control border-0 py-2 small fw-medium" placeholder="Search trends...">
          <button class="btn border-0 text-dark">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </div>
      </div>
      <div class="d-flex align-items-center gap-2 gap-md-3 small fw-medium text-secondary">
        <a href="./home.html" class="nav-icon mobile-only">
          <i class="fa-solid fa-house"></i>
        </a>
        <a href="./products.html" class="nav-icon mobile-only">
          <i class="fa-solid fa-bag-shopping"></i>
        </a>
        <a href="./profile.html" class="nav-icon">
          <i class="fa-regular fa-user"></i>
          <span class="nav-text d-none d-xl-inline">Account</span>
        </a>
        <a href="./wishlist.html" class="nav-icon">
          <i class="fa-regular fa-heart"></i>
          <span class="nav-text d-none d-xl-inline">Wishlist</span>
        </a>
        <a href="./cart.html" class="nav-icon">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="nav-text d-none d-xl-inline">Cart</span>
        </a>
        <a class="nav-icon mobile-only" id="menuToggle">
          <i class="fa-solid fa-bars"></i>
        </a>
      </div>
    </div>
  </nav>

  <div class="navbar-sub w-100 bg-black text-white">
    <div class="container-fluid px-4 custom-container-lg mx-auto">
      <div class="d-flex align-items-center justify-content-between login-sub-inner">
        <span class="fw-semibold">Login</span>
      </div>
    </div>
  </div>

  <div class="body-spacer"></div>








  <div class="d-flex align-items-center justify-content-center w-100 model-open" style="background-color: #f8f9fa;">

    <div class="card border-0 shadow-lg overflow-hidden rounded-4 w-100" style="max-width: 1100px;">
      <div class="row g-0">

        <!-- LEFT SIDE: IMAGE -->
        <div class="col-lg-6 d-none d-lg-flex bg-light align-items-center justify-content-center">
          <div class="rounded-4 position-relative overflow-hidden shadow-lg" style="max-width: 90%;">
            <img src="../Images/loginenva.jpg" alt="Enva Fashion" class="img-fluid rounded-4 w-100">
          </div>
        </div>

        <!-- RIGHT SIDE: FORM -->
        <div class="col-lg-6 py-5 px-4 bg-white d-flex flex-column justify-content-center align-items-center">
          <div class="w-100" style="max-width: 400px;">

            <!-- BRAND BADGE -->
            <div class="mb-4">
              <span class="badge bg-light text-dark border rounded-pill px-3 py-2 d-inline-flex align-items-center">
                <img src="../Images/Envalogo.jpeg" class="rounded-circle me-2" style="width:20px; height:20px;">
                <span class="fw-bold">Enva</span>
              </span>
            </div>

            <h2 class="fw-bold mb-2">Welcome Back</h2>
            <p class="text-secondary small mb-4">Please enter your details to sign in.</p>

            <form id="loginForm">
              <!-- Email -->
              <div class="mb-3">
                <label class="form-label small fw-bold text-secondary ps-1">Email Address</label>
                <input type="email" id="emailInput"
                  class="form-control form-control-lg bg-light border-0 rounded-4 fs-6 ps-3"
                  placeholder="Enter your email" style="height: 50px;" required>
              </div>

              <!-- Password -->
              <div class="mb-3">
                <label class="form-label small fw-bold text-secondary ps-1">Password</label>
                <input type="password" id="passwordInput"
                  class="form-control form-control-lg bg-light border-0 rounded-4 fs-6 ps-3"
                  placeholder="Enter your password" style="height: 50px;" required>
              </div>

              <!-- Remember & Forgot -->
              <div class="d-flex justify-content-between align-items-center mb-4 px-1">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="rememberMeCheck">
                  <label class="form-check-label small text-secondary" for="rememberMeCheck">Remember me</label>
                </div>
                <a href="../UI/resetPass.html" class="small text-decoration-none fw-bold text-dark">Forgot Password?</a>
              </div>

              <!-- Login Button -->
              <button type="submit" class="btn btn-dark btn-lg w-100 rounded-pill fw-bold fs-6 mb-3"
                style="height: 50px;">
                Sign In
              </button>

              <!-- Status Messages -->
              <p id="loginMessage" class="signup-message small"></p>

              <!-- Divider -->
              <div class="auth-divider my-3 text-muted small">OR</div>

              <!-- Google Button -->
              <div class="auth-secondary">
                <div class="auth-btn-wrap">
                  <div id="googleLoginBtn"></div>
                </div>
              </div>

              <!-- Sign Up Link -->
              <div class="text-center mt-4 text-secondary small">
                Don't have an account? <a href="../UI/signup.html" class="text-dark fw-bold text-decoration-none">Sign
                  up</a>
              </div>

            </form>
          </div>
        </div>



      </div>
    </div>
  </div>






  <footer class="footer-bg py-5 mt-5">
    <div class="container-fluid px-4 custom-container-lg mx-auto">
      <div class="row g-5">
        <div class="col-lg-4 col-md-6">
          <div class="d-flex align-items-center gap-3 mb-4">
            <img src="../Images/Envalogo.jpeg" class="rounded-circle shadow-sm" style="width: 50px; height: 50px;">
            <div>
              <div class="fw-bold fs-4 text-dark">Enva</div>
              <div class="small text-muted" style="margin-top: -5px;">Designer for Every Woman</div>
            </div>
          </div>
          <p class="text-secondary mb-4" style="font-size: 0.85rem; line-height: 1.6; max-width: 320px;">
            Discover the latest trends in women's fashion. We curate stylish outfits, accessories, and essentials
            designed to empower every woman.
          </p>
          <div class="text-secondary" style="font-size: 0.85rem;">
            <div class="mb-2 d-flex align-items-start gap-2">
              <span>üìç</span> <span>51 Green St, Huntington, NY 11746, USA</span>
            </div>
            <div class="mb-2 d-flex align-items-center gap-2">
              <span>‚úâ</span> <span>support@enva.com</span>
            </div>
            <div class="mb-0 d-flex align-items-center gap-2">
              <span>üìû</span> <span>+91 123 4567890</span>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-6">
          <h3 class="footer-title">Company</h3>
          <ul class="list-unstyled text-secondary" style="font-size: 0.85rem;">
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">About Us</a></li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Delivery Info</a>
            </li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Privacy Policy</a>
            </li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Terms &
                Conditions</a>
            </li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Support Center</a>
            </li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 col-6">
          <h3 class="footer-title">Shop</h3>
          <ul class="list-unstyled text-secondary" style="font-size: 0.85rem;">
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">New Arrivals</a></li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Dresses</a></li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Ethnic Wear</a></li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Kurtas</a></li>
            <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Western Wear</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12">
          <h3 class="footer-title">Stay in Touch</h3>
          <p class="text-secondary mb-3" style="font-size: 0.85rem;">Subscribe to get special offers and
            once-in-a-lifetime deals.</p>

          <div class="input-group mb-4">
            <input type="email" class="form-control newsletter-input" placeholder="Your Email Address">
            <button class="btn btn-dark newsletter-btn" type="button">Subscribe</button>
          </div>

          <div class="d-flex gap-2 mb-4">
            <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
              <i class="fa-brands fa-facebook-f"></i>
            </a>
            <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
              <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
              <i class="fa-brands fa-x-twitter"></i>
            </a>
            <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
              <i class="fa-brands fa-pinterest-p"></i>
            </a>
          </div>

          <div class="d-flex gap-2">
            <img src="../Images/about1.jpg" class="rounded footer-gallery-img" alt="Gallery 1">
            <img src="../Images/about2.jpg" class="rounded footer-gallery-img" alt="Gallery 2">
            <img src="../Images/about3.jpg" class="rounded footer-gallery-img" alt="Gallery 3">
          </div>
        </div>

      </div>

      <div class="row mt-5 pt-4 border-top">
        <div class="col-md-6 text-center text-md-start">
          <p class="text-muted small">¬© 2026 Enva Fashion. All rights reserved.</p>
        </div>
        <div class="col-md-6 text-center text-md-end">
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" height="20" class="me-3 opacity-50"
            alt="PayPal">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" height="15"
            class="me-3 opacity-50" alt="Visa">
          <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" height="20"
            class="opacity-50" alt="Mastercard">
        </div>
      </div>
    </div>
  </footer>


  <script src="apiFetch.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>


  <!-- MOBILE SLIDE MENU -->
  <div id="mobileDrawer" class="mobile-drawer">

    <div class="drawer-header">
      <strong>Menu</strong>
      <span id="closeDrawer">‚úï</span>
    </div>

    <a href="./home.html">Home</a>
    <a href="./products.html">Products</a>
    <a href="./wishlist.html">Wishlist</a>
    <a href="./cart.html">Cart</a>
    <a href="./profile.html">Account</a>

  </div>
  <script>
    const toggle = document.getElementById("menuToggle");
    const drawer = document.getElementById("mobileDrawer");
    const close = document.getElementById("closeDrawer");
    const backdrop = document.getElementById("drawerBackdrop");

    toggle.onclick = () => {
      drawer.classList.add("open");
      backdrop.classList.add("show");
    };

    close.onclick = () => {
      drawer.classList.remove("open");
      backdrop.classList.remove("show");
    };

    backdrop.onclick = () => {
      drawer.classList.remove("open");
      backdrop.classList.remove("show");
    };
  </script>

  <script>
    window.onload = function () {
      if (!window.google || !google.accounts) return;

      google.accounts.id.initialize({
        client_id: "1007399516748-q15qbjubp2h5met0kemsb85gajruqjhq.apps.googleusercontent.com",
        callback: handleGoogleLogin,
        auto_select: false
      });

      setTimeout(renderGoogleButton, 100);
      window.addEventListener("resize", renderGoogleButton);
    };

    function renderGoogleButton() {
      const loginBtn = document.querySelector(".btn.btn-dark.btn-lg");
      const googleBtn = document.getElementById("googleLoginBtn");

      if (!loginBtn || !googleBtn) return;

      // üî• EXACT WIDTH of LOGIN button
      const exactWidth = loginBtn.getBoundingClientRect().width;

      googleBtn.innerHTML = ""; // clear before render

      google.accounts.id.renderButton(googleBtn, {
        theme: "outline",
        size: "large",
        text: "continue_with",
        shape: "rectangular",
        logo_alignment: "left",
        width: Math.floor(exactWidth) // ‚úÖ PIXEL-PERFECT
      });
    }

    async function handleGoogleLogin(response) {
      try {
        const res = await fetch("https://envastore.online/api/auth/user/google", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          credentials: "include",
          body: JSON.stringify({ credential: response.credential })
        });

        const data = await res.json();
        if (!res.ok) throw new Error(data.message);

        const { accessToken, user } = data;

        if (user.role === "admin") {
          localStorage.setItem("adminToken", accessToken);
          window.location.href = "../Admin/dashbord.html";
        } else {
          localStorage.setItem("userToken", accessToken);
          window.location.href = "home.html";
        }
      } catch {
        alert("Google authentication error");
      }
    }
  </script>


  <script src="login.js"></script>

  <div id="drawerBackdrop"></div>
</body>

</html>