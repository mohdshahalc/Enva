<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="../Images/favicon.png">
  <title>Enva cloth & co - SignUp</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="navBar.css">
 
   <script src="https://accounts.google.com/gsi/client" async defer></script>
<style>
  /* ==========================================
   SHARED UTILITIES
========================================== */

.custom-container-lg {
  max-width: 1400px;
}

.hover-black:hover {
  color: #000 !important;
}

/* =========================
   SOCIAL ICONS
========================= */

.social-icon-box {
  width: 32px;
  height: 32px;
  background-color: #e9ecef;
  color: #6c757d;
  transition: color 0.3s ease;
}

.social-icon-box:hover {
  color: #000;
}

/* =========================
   SIGNUP STATUS MESSAGE
========================= */

.signup-message {
  padding: 10px 14px;
  border-radius: 6px;
  font-weight: 600;
  display: none;
}

.signup-message.success {
  display: block;
  background-color: #e6f7ee;
  color: #0f5132;
  border: 1px solid #badbcc;
}

.signup-message.error {
  display: block;
  background-color: #fdecea;
  color: #842029;
  border: 1px solid #f5c2c7;
}

/* =========================
   AUTH DIVIDER (OR)
========================= */

.auth-divider {
  display: flex;
  align-items: center;
  text-align: center;
  color: #6c757d;
  font-size: 0.8rem;
  font-weight: 600;
  margin: 16px 0;
}

.auth-divider::before,
.auth-divider::after {
  content: "";
  flex: 1;
  border-bottom: 1px solid #dee2e6;
}

.auth-divider::before {
  margin-right: 12px;
}

.auth-divider::after {
  margin-left: 12px;
}

/* =========================
   GOOGLE AUTH (SAFE)
========================= */

.google-auth-wrapper {
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 0;
  padding: 0;
}

#googleSignupBtn {
  width: 100%;
  margin: 0;
  padding: 0;
}

#googleSignupBtn iframe {
  width: 100% !important;
  height: 44px !important;
  display: block !important;
  margin: 0 !important;
  border-radius: 6px !important;
}

/* =========================
   AUTH SECONDARY AREA
========================= */

.auth-secondary {
  display: flex;
  flex-direction: column;
  gap: 4px;   /* SMALL, CLEAN GAP */
  margin: 0;
  padding: 0;
}

/* Login link */
.login-link-wrap {
  width: 100%;
  display: flex;
  justify-content: flex-end;
}

.login-link {
  font-size: 0.85rem;
  color: #6c757d;
  text-decoration: none;
}

.login-link:hover {
  color: #000;
  text-decoration: underline;
}

/* =========================
   MOBILE FIX
========================= */

@media (max-width: 575px) {
  .login-link-wrap {
    justify-content: center;
  }
}
/* === FIX EXTRA SPACE UNDER GOOGLE BUTTON === */

/* Kill Google internal wrapper spacing */
#googleSignupBtn > div {
  margin: 0 !important;
  padding: 0 !important;
}

/* Force iframe wrapper height to content */
#googleSignupBtn {
  height: auto !important;
}

/* Reduce auth-secondary height naturally */
.auth-secondary {
  gap: 2px !important;
}

/* Pull login text closer */
.login-link-wrap {
  margin-top: -6px; /* üëà key line */
}
/* ===== COLLAPSE GOOGLE EXTRA SPACE ===== */

/* Remove spacing from Google internal wrappers */
#googleSignupBtn,
#googleSignupBtn > div,
#googleSignupBtn .S9gUrf-YoZ4jf {
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure wrapper doesn't reserve extra height */
#googleSignupBtn .S9gUrf-YoZ4jf {
  display: block !important;
}

/* Tighten auth container */
.auth-secondary {
  gap: 2px !important;
}

/* Pull login text upward slightly */
.login-link-wrap {
  margin-top: -8px; /* key adjustment */
}
/* ===== FORCE GOOGLE WRAPPER TO BUTTON HEIGHT ===== */

/* Google outer wrapper */
.google-auth-wrapper {
  height: 54px !important;     /* üëà key fix */
  min-height: 44px !important;
  max-height: 44px !important;
  overflow: hidden;            /* safe here */
  margin: 0 !important;
  padding: 0 !important;
}

/* Google container */
#googleSignupBtn {
  height: 44px !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Google internal wrapper */
#googleSignupBtn > div,
#googleSignupBtn .S9gUrf-YoZ4jf {
  height: 44px !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Google iframe */
#googleSignupBtn iframe {
  height: 44px !important;
  display: block !important;
  margin: 0 !important;
}

/* Tighten overall auth section */
.auth-secondary {
  gap: 3px !important;
}

/* ===== FINAL TINY GAP CONTROL ===== */

/* Auth container */
.auth-secondary {
  gap: 7px !important;   /* üëà small, balanced gap */
}

/* Login link position */
.login-link-wrap {
  margin-top: 2px;      /* üëà subtle spacing */
}
/* ===== MOBILE: ALIGN LOGIN LINK TO RIGHT ===== */
@media (max-width: 575px) {
  .login-link-wrap {
    justify-content: flex-end !important;
    padding-right: 4px; /* small safe spacing from edge */
  }
}

/* FORCE GOOGLE BUTTON TO FULL WIDTH (OVERRIDE INLINE) */
#googleSignupBtn div[role="button"] {
  width: 100% !important;
  max-width: none !important;   /* üî• THIS IS THE KEY */
}

#googleSignupBtn div[role="button"] {
  height: 43px !important;      /* match CREATE ACCOUNT */
  border-radius: 8px;
}

</style>

</head>

<body class="bg-white text-dark">

<!-- ========================= MAIN NAVBAR ========================= -->
<nav class="navbar-main w-100 top-0 start-0 z-3 shadow-sm">

  <div class="container-fluid custom-container-lg mx-auto px-4 py-2 d-flex align-items-center justify-content-between">

    <!-- BRAND -->
    <a href="./home.html" class="d-flex align-items-center gap-2 text-dark text-decoration-none">
      <img src="/Images/Envalogo.jpeg" class="rounded-circle" style="width:48px; height:48px;">
      <div class="brand-text">
        <div class="brand-name fw-bold">Enva cloth & co</div>
        <div class="brand-tagline">Wear Your Confidence</div>
      </div>
    </a>

    <!-- DESKTOP LINKS -->
    <ul class="nav gap-4 d-none d-lg-flex small fw-bold ms-5">
      <li><a href="./home.html" class="nav-link text-dark p-0">Home</a></li>
      <li><a href="./products.html" class="nav-link text-dark p-0">Products</a></li>
      <li><a href="./blog.html" class="nav-link text-dark p-0">Blog</a></li>
    </ul>

    <!-- DESKTOP SEARCH -->
    <div class="d-none d-lg-flex align-items-center flex-grow-1 justify-content-center px-4">
      <div class="input-group srch-btn shadow-none" style="max-width:350px;">
        <input type="text" class="form-control border-0 py-2 small fw-medium" placeholder="Search trends...">
        <button class="btn border-0 text-dark">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>

    <!-- ICONS -->
    <div class="d-flex align-items-center gap-2 gap-md-3 small fw-medium text-secondary">

      <!-- MOBILE SHORTCUTS -->
      <a href="./home.html" class="nav-icon mobile-only">
        <i class="fa-solid fa-house"></i>
      </a>

      <a href="./products.html" class="nav-icon mobile-only">
        <i class="fa-solid fa-bag-shopping"></i>
      </a>

      <!-- ACCOUNT -->
      <a href="./profile.html" class="nav-icon">
        <i class="fa-regular fa-user"></i>
        <span class="nav-text d-none d-xl-inline">Account</span>
      </a>

      <!-- WISHLIST -->
      <a href="./wishlist.html" class="nav-icon">
        <i class="fa-regular fa-heart"></i>
        <span class="nav-text d-none d-xl-inline">Wishlist</span>
      </a>

      <!-- CART -->
      <a href="./cart.html" class="nav-icon">
        <i class="fa-solid fa-cart-shopping"></i>
        <span class="nav-text d-none d-xl-inline">Cart</span>
      </a>

      <!-- MOBILE HAMBURGER -->
      <a class="nav-icon mobile-only" id="menuToggle">
        <i class="fa-solid fa-bars"></i>
      </a>

    </div>

  </div>
</nav>

<div class="navbar-sub w-100 bg-black text-white">
  <div class="container-fluid px-4 custom-container-lg mx-auto">
    <div class="d-flex align-items-center justify-content-between py-2" style="height:48px;font-size:.85rem;">
      <span class="fw-semibold">Sign up</span>
    </div>
  </div>
</div>

<div class="body-spacer"></div>
 
<div class="container d-flex justify-content-center py-4 mt-5">
    <div class="card border-0 shadow-lg rounded-3 p-4 pb-5" style="max-width: 600px; width: 100%;">

        <h2 class="text-center fw-bold mb-4">Create Your Account</h2>

       <form id="signupForm" class="small fw-medium">
        

            <div class="row g-3 mb-4">

                <!-- First Name -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">First Name*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-user"></i></span>
                       <input type="text" id="firstName" class="form-control p-2 bg-light" placeholder="First Name" required>
                    </div>
                </div>

                <!-- Last Name -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">Last Name*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-user"></i></span>
                       <input type="text" id="lastName" class="form-control p-2 bg-light" placeholder="Last Name" required>

                    </div>
                </div>

                <!-- Email -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">Email*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-envelope"></i></span>
                        <input type="email" id="email" class="form-control p-2 bg-light" placeholder="Email Address" required>
                    </div>
                </div>

                <!-- Phone -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">Phone*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-phone"></i></span>
                        <input type="tel" id="phone" class="form-control p-2 bg-light" placeholder="Phone Number" required>
                    </div>
                </div>

                <!-- Password -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">Password*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-lock"></i></span>
                       <input type="password" id="password" class="form-control p-2 bg-light" placeholder="Password" required>
                    </div>
                </div>

                <!-- Confirm Password -->
                <div class="col-md-6">
                    <label class="form-label text-secondary mb-2">Confirm Password*</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="fa-solid fa-lock"></i></span>
                        <input type="password"  id="conformPassword" class="form-control p-2 bg-light" placeholder="Confirm password" required>
                    </div>
                </div>

            </div>

         <!-- CREATE ACCOUNT -->
<div class="signup-actions mt-3">
  <button type="submit" class="btn btn-dark px-4 py-2 fw-bold text-uppercase w-100">
    Create Account
  </button>
</div>

<!-- Divider -->
<div class="auth-divider my-3">
  <span>OR</span>
</div>

<div class="auth-secondary">

  <div class="google-auth-wrapper">
    <div id="googleSignupBtn"></div>
  </div>

  <div class="login-link-wrap">
    <a href="login.html" class="login-link">
      Already have an account?
    </a>
  </div>

</div>



        </form>
<p id="signupMessage" class="signup-message small mt-3"></p>

       


    </div>
</div>

  
  
<footer class="footer-bg py-5 mt-5">
  <div class="container-fluid px-4 custom-container-lg mx-auto">
    <div class="row g-5">

      <div class="col-lg-4 col-md-6">
        <div class="d-flex align-items-center gap-3 mb-4">
          <img src="../Images/Envalogo.jpeg" class="rounded-circle shadow-sm" style="width: 50px; height: 50px;">
          <div>
            <div class="fw-bold fs-4 text-dark">Enva</div>
            <div class="small text-muted" style="margin-top: -5px;">Designer for Every Woman</div>
          </div>
        </div>

        <p class="text-secondary mb-4" style="font-size: 0.85rem; line-height: 1.6; max-width: 320px;">
          Discover the latest trends in women's fashion. We curate stylish outfits, accessories, and essentials designed to empower every woman.
        </p>

        <div class="text-secondary" style="font-size: 0.85rem;">
          <div class="mb-2 d-flex align-items-start gap-2">
            <span>üìç</span> <span>51 Green St, Huntington, NY 11746, USA</span>
          </div>
          <div class="mb-2 d-flex align-items-center gap-2">
            <span>‚úâ</span> <span>support@enva.com</span>
          </div>
          <div class="mb-0 d-flex align-items-center gap-2">
            <span>üìû</span> <span>+91 123 4567890</span>
          </div>
        </div>
      </div>

      <div class="col-lg-2 col-md-3 col-6">
        <h3 class="footer-title">Company</h3>
        <ul class="list-unstyled text-secondary" style="font-size: 0.85rem;">
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">About Us</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Delivery Info</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Privacy Policy</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Terms & Conditions</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Support Center</a></li>
        </ul>
      </div>

      <div class="col-lg-2 col-md-3 col-6">
        <h3 class="footer-title">Shop</h3>
        <ul class="list-unstyled text-secondary" style="font-size: 0.85rem;">
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">New Arrivals</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Dresses</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Ethnic Wear</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Kurtas</a></li>
          <li class="mb-2"><a href="#" class="text-decoration-none text-secondary footer-link">Western Wear</a></li>
        </ul>
      </div>

      <div class="col-lg-4 col-md-12">
        <h3 class="footer-title">Stay in Touch</h3>
        <p class="text-secondary mb-3" style="font-size: 0.85rem;">Subscribe to get special offers and once-in-a-lifetime deals.</p>
        
        <div class="input-group mb-4">
          <input type="email" class="form-control newsletter-input" placeholder="Your Email Address">
          <button class="btn btn-dark newsletter-btn" type="button">Subscribe</button>
        </div>

        <div class="d-flex gap-2 mb-4">
          <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
            <i class="fa-brands fa-facebook-f"></i>
          </a>
          <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
            <i class="fa-brands fa-instagram"></i>
          </a>
          <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
            <i class="fa-brands fa-x-twitter"></i>
          </a>
          <a href="#" class="social-icon-box d-flex align-items-center justify-content-center">
            <i class="fa-brands fa-pinterest-p"></i>
          </a>
        </div>

        <div class="d-flex gap-2">
          <img src="../Images/about1.jpg" class="rounded footer-gallery-img" alt="Gallery 1">
          <img src="../Images/about2.jpg" class="rounded footer-gallery-img" alt="Gallery 2">
          <img src="../Images/about3.jpg" class="rounded footer-gallery-img" alt="Gallery 3">
        </div>
      </div>

    </div>

    <div class="row mt-5 pt-4 border-top">
      <div class="col-md-6 text-center text-md-start">
        <p class="text-muted small">¬© 2026 Enva Fashion. All rights reserved.</p>
      </div>
      <div class="col-md-6 text-center text-md-end">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" height="20" class="me-3 opacity-50" alt="PayPal">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" height="15" class="me-3 opacity-50" alt="Visa">
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" height="20" class="opacity-50" alt="Mastercard">
      </div>
    </div>
  </div>
</footer>
  

<script src="apiFetch.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  
  <!-- OTP VERIFICATION MODAL -->
<div class="modal fade" id="otpModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 border-0 shadow">

      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold">Verify Email</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">

        <p class="fw-semibold mb-1">
          Enter the OTP sent to your email
        </p>

        <input
          type="text"
          id="otpInput"
          maxlength="6"
          class="form-control text-center fw-bold fs-5 my-3"
          placeholder="Enter OTP"
        />

        <small class="text-muted">
          Didn‚Äôt receive OTP? Check spam folder.
        </small>

      </div>

      <div class="modal-footer border-0 justify-content-center gap-3">

        <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
          Cancel
        </button>

        <button class="btn btn-dark px-4" id="verifyOtpBtn">
          Verify OTP
        </button>

      </div>

    </div>
  </div>
</div>



<!-- MOBILE SLIDE MENU -->
<div id="mobileDrawer" class="mobile-drawer">

  <div class="drawer-header">
    <strong>Menu</strong>
    <span id="closeDrawer">‚úï</span>
  </div>

  <a href="./home.html">Home</a>
  <a href="./products.html">Products</a>
  <a href="./wishlist.html">Wishlist</a>
  <a href="./cart.html">Cart</a>
  <a href="./profile.html">Account</a>

</div>

<script>
const toggle = document.getElementById("menuToggle");
const drawer = document.getElementById("mobileDrawer");
const close = document.getElementById("closeDrawer");
const backdrop = document.getElementById("drawerBackdrop");

toggle.onclick = () => {
  drawer.classList.add("open");
  backdrop.classList.add("show");
};

close.onclick = () => {
  drawer.classList.remove("open");
  backdrop.classList.remove("show");
};

backdrop.onclick = () => {
  drawer.classList.remove("open");
  backdrop.classList.remove("show");
};
</script>

<script>
 window.onload = function () {
  if (!window.google || !google.accounts) return;

  google.accounts.id.initialize({
    client_id: "1007399516748-q15qbjubp2h5met0kemsb85gajruqjhq.apps.googleusercontent.com",
    callback: handleGoogleSignup
  });

  renderSignupGoogleButton();
  window.addEventListener("resize", renderSignupGoogleButton);
};


function renderSignupGoogleButton() {
  const signupBtn = document.querySelector(".signup-actions");
  const googleBtn = document.getElementById("googleSignupBtn");

  if (!signupBtn || !googleBtn) return;

  // ‚úÖ Measure the SAME visual width as the black button
  const exactWidth = signupBtn.offsetWidth;

  googleBtn.innerHTML = "";

  google.accounts.id.renderButton(googleBtn, {
    theme: "outline",
    size: "large",
    text: "continue_with",
    shape: "rectangular",
    logo_alignment: "left",
    width: exactWidth // ‚úÖ NO math, NO hacks
  });
}


 async function handleGoogleSignup(response) {
  try {
    const res = await fetch("https://envastore.online/api/auth/user/google", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      credentials: "include", // ‚úÖ refresh token cookie
      body: JSON.stringify({
        credential: response.credential
      })
    });

    const data = await res.json();

    if (!res.ok) {
      alert(data.message || "Google login failed");
      return;
    }

    const { accessToken, user } = data;

    if (!accessToken || !user?.role) {
      throw new Error("Invalid Google login response");
    }

    // ‚úÖ SAME ROLE-BASED STORAGE AS NORMAL LOGIN
    if (user.role === "admin") {
      localStorage.setItem("adminToken", accessToken);
      localStorage.setItem("adminRole", "admin");
      window.location.href = "../Admin/dashbord.html";
    } else {
      localStorage.setItem("userToken", accessToken);
      localStorage.setItem("userRole", "user");
      window.location.href = "home.html";
    }

  } catch (err) {
    console.error(err);
    alert("Google authentication error");
  }
}

</script>


<div id="drawerBackdrop"></div>
  <script src="signup.js"></script>
</body>
</html>